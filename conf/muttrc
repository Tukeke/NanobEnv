# user data 
set realname = "copim USER, change me"
set from = "copim@user.com"
set use_from = yes
set envelope_from ="yes"

# which mailboxes to list in the sidebar 
mailboxes /var/spool/mail/xayon =sent 

# Use a signature
set signature="~/.copim/signature"

# Alias file
set alias_file = ~/.copim/Mail/mutt_aliases # In their own file

# Use msmtp rather than sendmail. Check that 
# the path is correct for your system:
set sendmail="/usr/bin/msmtp"   

# If not set in ~/.bashrc:
set spoolfile = /var/spool/mail/xayon

#======================================================#
# Folders
set folder="$HOME/.copim/Mail"     # Local mailboxes stored here
set record="+sent"           # Where to store sent messages
set postponed="+postponed"   # Where to store draft messages
set mbox_type=mbox           # Mailbox type
set move=no                 # Don't move mail from spool

#======================================================#
# Watch these mailboxes for new mail, useful only if 
# Procmail or Maildrop is used to sort mail.
set sort_browser=alpha    # Sort mailboxes by alpha(bet)

#======================================================#
# What to show and order of headers
ignore *
unignore  Date: From: To: Cc: Reply-To: List-Id: Subject: 
hdr_order Date: From: To: Cc: Reply-To: List-Id: Subject: 
                       
#======================================================#
# which editor do you want to use? 
# vim of course!
set editor="vim -c 'set tw=70 et' '+/^$' " 
set edit_headers=yes      # See the headers when editing

#======================================================#
# Aliases


source ~/.copim/Mail/mutt_aliases           # Source them
set sort_alias=alias                 # Sort alphabetically

#======================================================#
# Colours: defaults are a little bleak so experiment!

#source ~/.copim/mutt/mutt_colors            # In their own file 

#======================================================#
# Lists: An example using the mutt-users list:

lists mutt-users
subscribe mutt-users
set followup_to=yes        # Sets 'Mail-Followup-To' header
set honor_followup_to=yes  
fcc-hook mutt-user +mutt   # See your own posts using fcc

#======================================================#
# Odds and ends
macro index,pager I '<shell-escape> fetchmail -v --mda "procmail -f %F" <enter>'
set markers          # mark wrapped lines of text in the pager with a +
set smart_wrap       # Don't wrap mid-word
set pager_context=5  # Retain 5 lines of previous page when scrolling.
set status_on_top    # Status bar on top.
push <show-version>  # Shows mutt version at startup
auto_view text/html
# set up the sidebar, default not visible 
set sidebar_width=16
set sidebar_visible=yes 
set sidebar_delim='|' 

# color of folders with new mail 
color sidebar_new yellow default 
# ctrl-n, ctrl-p to select next, prev folder # ctrl-o to open selected folder 
bind index \CP sidebar-prev 
bind index \CN sidebar-next 
bind index \CO sidebar-open 
bind pager \CP sidebar-prev 
bind pager \CN sidebar-next 
bind pager \CO sidebar-open 
# I don't need these. just for documentation purposes. See below. # sidebar-scroll-up # sidebar-scroll-down 
# b toggles sidebar visibility 
macro index b '<enter-command>toggle sidebar_visible<enter>' 
macro pager b '<enter-command>toggle sidebar_visible<enter>' 

# Remap bounce-message function to "B" 
bind index B bounce-message 
# # Mario Holbe suggests: # 
macro index b '<enter-command>toggle sidebar_visible<enter><refresh>' 
macro pager b '<enter-command>toggle sidebar_visible<enter><redraw-screen>' #
set sort=threads
set fast_reply
color header yellow black Subject:
color header brightcyan black .
color body brightyellow black [_a-z\.\$A-Z0-9-]+@[a-zA-Z0-9\./\-]+
color body yellow black (http|ftp)://[_a-zA-Z0-9\./~\-]+
color quoted green black
color signature brightblue black
# color indicator yellow blue
color attachment yellow black
color tree red black
color indicator black cyan
color status yellow blue
color tilde blue black
color normal default default
set pgp_replysign
set pgp_autosign
set pgp_decode_command="gpg   %?p?--passphrase-fd 0? --no-verbose --quiet  --batch  --output - %f"
set pgp_verify_command="gpg   --no-verbose --quiet  --batch  --output - --verify %s %f"
set pgp_decrypt_command="gpg   --passphrase-fd 0 --no-verbose --quiet  --batch  --output - %f"
set pgp_sign_command="gpg    --no-verbose --batch --quiet   --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command="gpg   --no-verbose --batch --quiet   --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command="pgpewrap gpg    --batch  --quiet  --no-verbose --output - --encrypt --textmode --armor --always-trust -- -r %r -- %f"
set pgp_encrypt_sign_command="pgpewrap gpg  --passphrase-fd 0  --batch --quiet  --no-verbose  --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust -- -r %r -- %f"
set pgp_import_command="gpg --no-verbose --import -v %f"
set pgp_export_command="gpg --no-verbose --export --armor %r"
set pgp_verify_key_command="gpg   --verbose --batch  --fingerprint --check-sigs %r"
set pgp_list_pubring_command="gpg   --no-verbose --batch --quiet   --with-colons --list-keys %r" 
set pgp_list_secring_command="gpg   --no-verbose --batch --quiet   --with-colons --list-secret-keys %r" 

set query_command = "abook --mutt-query '%s'"
macro generic,index,pager \ck "<shell-escape>abook<return>" "launch abook" # Press ctrl+K to open abook FIXME : Document this.
macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"
macro pager "w"      "<enter-command>set pager_index_lines=4 <enter>" # For better view on android phone
macro pager "\Cx\Cs" "<pipe-message>cat > ~/"                             # Save message
set pager_index_lines=15
